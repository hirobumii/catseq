# CatSeq

![Python](https://img.shields.io/badge/python-3.12%2B-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Version](https://img.shields.io/badge/version-0.2.0-orange.svg)
![Tests](https://img.shields.io/badge/tests-49%20passed-brightgreen.svg)

> **ä¸€ä¸ªåŸºäºèŒƒç•´è®ºçš„é‡å­å®éªŒåºåˆ—æ§åˆ¶æ¡†æ¶** - ä¸ºé‡å­ç‰©ç†å®éªŒæä¾›æ•°å­¦ä¸¥è°¨çš„ç¡¬ä»¶æ—¶åºç¼–ç¨‹æŠ½è±¡

<p align="center">
  <a href="docs/user/01_quickstart.md"><strong>å¿«é€Ÿå¼€å§‹</strong></a> Â·
  <a href="docs/user/02_core_concepts.md"><strong>æ ¸å¿ƒæ¦‚å¿µ</strong></a> Â·
  <a href="docs/dev/compiler_notes.md">å¼€å‘è€…æ–‡æ¡£</a> Â·
  <a href="https://github.com/hirobumii/catseq/issues">æŠ¥å‘Š Bug</a>
</p>

---

## ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
  - [å…ˆå†³æ¡ä»¶](#å…ˆå†³æ¡ä»¶)
  - [å®‰è£…](#å®‰è£…)
  - [åŸºæœ¬ç”¨æ³•](#åŸºæœ¬ç”¨æ³•)
- [è®¾è®¡ç†å¿µ](#è®¾è®¡ç†å¿µ)
- [é¡¹ç›®è·¯çº¿å›¾](#é¡¹ç›®è·¯çº¿å›¾)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [è®¸å¯è¯](#è®¸å¯è¯)

## é¡¹ç›®ç®€ä»‹

**CatSeq** (Category Theory-based Quantum Experiment Sequencing) æ˜¯ä¸€ä¸ªä¸“ä¸ºé‡å­ç‰©ç†å®éªŒè®¾è®¡çš„ç¡¬ä»¶æ§åˆ¶æ¡†æ¶ã€‚å®ƒåŸºäº **Monoidal Category** æ•°å­¦ç†è®ºï¼Œä¸ºå¤æ‚çš„é‡å­æ§åˆ¶åºåˆ—æä¾›ä¸¥æ ¼çš„æ•°å­¦åŸºç¡€å’Œç›´è§‚çš„ç¼–ç¨‹æŠ½è±¡ã€‚

åœ¨ä¼ ç»Ÿçš„é‡å­å®éªŒæ§åˆ¶ä¸­ï¼Œå¤æ‚çš„æ—¶åºåè°ƒã€çŠ¶æ€ç®¡ç†å’Œå¹¶è¡Œæ“ä½œå¾€å¾€å¯¼è‡´ä»£ç éš¾ä»¥ç†è§£å’Œç»´æŠ¤ã€‚CatSeq é€šè¿‡èŒƒç•´è®ºçš„**ç»„åˆæ€§**å’Œ**ç±»å‹å®‰å…¨**ï¼Œå°†è¿™äº›å¤æ‚æ€§æŠ½è±¡ä¸ºå¯é¢„æµ‹ã€å¯éªŒè¯çš„æ•°å­¦å¯¹è±¡ï¼Œä½¿å¾—é‡å­å®éªŒçš„ç¼–ç¨‹å˜å¾—ç›´è§‚è€Œå¼ºå¤§ã€‚

è¯¥æ¡†æ¶ç‰¹åˆ«é€‚åˆéœ€è¦**ç²¾ç¡®æ—¶åºæ§åˆ¶**ï¼ˆnsçº§ç²¾åº¦ï¼‰ã€**å¤šé€šé“åè°ƒ**å’Œ**å¤æ‚æ³¢å½¢åˆæˆ**çš„é‡å­ç‰©ç†ç ”ç©¶å›¢é˜Ÿä½¿ç”¨ã€‚

## æ ¸å¿ƒåŠŸèƒ½

* **ğŸ§® æ•°å­¦ä¸¥è°¨æ€§**: åŸºäº Monoidal Category ç†è®ºï¼Œæä¾›å¯è¯æ˜æ­£ç¡®çš„æ“ä½œç»„åˆ
* **âš¡ ç²¾ç¡®æ—¶åº**: æ”¯æŒ 250MHz æ—¶é’Ÿç²¾åº¦ï¼ˆ4nsï¼‰ï¼Œæ»¡è¶³é‡å­å®éªŒçš„ä¸¥æ ¼æ—¶åºè¦æ±‚  
* **ğŸ”€ çµæ´»ç»„åˆ**: é€šè¿‡ `@`ï¼ˆä¸²è¡Œï¼‰å’Œ `|`ï¼ˆå¹¶è¡Œï¼‰æ“ä½œç¬¦å®ç°ç›´è§‚çš„åºåˆ—ç»„åˆ
* **ğŸ›ï¸ å¤šç¡¬ä»¶æ”¯æŒ**: ç»Ÿä¸€æ§åˆ¶ TTL å¼€å…³ã€RWG æ³¢å½¢å‘ç”Ÿå™¨ç­‰é‡å­å®éªŒç¡¬ä»¶
* **ğŸ”§ ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶çŠ¶æ€éªŒè¯ï¼Œé¿å…ç¡¬ä»¶é…ç½®é”™è¯¯å’Œæ—¶åºå†²çª
* **âš™ï¸ OASM ç¼–è¯‘**: ç›´æ¥ç¼–è¯‘ä¸º RTMQ ç¡¬ä»¶æŒ‡ä»¤ï¼Œæ— éœ€æ‰‹å†™åº•å±‚æ±‡ç¼–ä»£ç 

## å¿«é€Ÿå¼€å§‹

### å…ˆå†³æ¡ä»¶

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒä¸­å®‰è£…äº†ä»¥ä¸‹è½¯ä»¶ï¼š
* [Python](https://python.org/) (ç‰ˆæœ¬ >= 3.12)
* [uv](https://docs.astral.sh/uv/) ç°ä»£ Python åŒ…ç®¡ç†å™¨

### å®‰è£…

**æ–¹å¼ä¸€ï¼šä½¿ç”¨æä¾›çš„å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
git clone https://github.com/hirobumii/catseq.git
cd catseq
chmod +x setup.sh
./setup.sh
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…**
```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/hirobumii/catseq.git
cd catseq

# 2. å®‰è£… uvï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh

# 3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv venv --python 3.12
source .venv/bin/activate
uv pip install -e .[dev]

# 4. éªŒè¯å®‰è£…
.venv/bin/pytest tests/ -v
```

### åŸºæœ¬ç”¨æ³•

ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ›å»º TTL è„‰å†²åºåˆ—çš„åŸºç¡€ç¤ºä¾‹ï¼š

```python
from catseq import ttl_init, ttl_on, ttl_off, identity
from catseq.types.common import Board, Channel, ChannelType
from catseq.compilation import compile_to_oasm_calls

# å®šä¹‰ç¡¬ä»¶é€šé“
board = Board("RWG_0")
ttl_ch = Channel(board, 0, ChannelType.TTL)

# æ„å»ºåºåˆ—ï¼šåˆå§‹åŒ– â†’ å¼€å¯10Î¼s â†’ å…³é—­
pulse_sequence = (
    ttl_init(ttl_ch) @ 
    ttl_on(ttl_ch) @ 
    identity(ttl_ch, 10e-6) @ 
    ttl_off(ttl_ch)
)

# ç¼–è¯‘ä¸ºç¡¬ä»¶æŒ‡ä»¤
oasm_calls = compile_to_oasm_calls(pulse_sequence)

# æ‰§è¡Œåºåˆ—ï¼ˆéœ€è¦ RTMQ ç¡¬ä»¶ç¯å¢ƒï¼‰
# execute_oasm_calls(oasm_calls)
```

**å¹¶è¡Œæ“ä½œç¤ºä¾‹**ï¼š
```python
# åˆ›å»ºä¸¤ä¸ªä¸åŒé€šé“çš„è„‰å†²
ch1_pulse = ttl_on(ch1) @ identity(ch1, 5e-6) @ ttl_off(ch1)
ch2_pulse = ttl_on(ch2) @ identity(ch2, 8e-6) @ ttl_off(ch2)

# å¹¶è¡Œæ‰§è¡Œï¼ˆè‡ªåŠ¨æ—¶é—´å¯¹é½ï¼‰
parallel_sequence = ch1_pulse | ch2_pulse  # æ€»æ—¶é•¿ä¸º 8Î¼s
```

å¦‚éœ€äº†è§£æ›´é«˜çº§çš„ç”¨æ³•å’Œ RWG æ³¢å½¢æ§åˆ¶ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„ [å¿«é€Ÿå¼€å§‹æ–‡æ¡£](docs/user/01_quickstart.md)ã€‚

## è®¾è®¡ç†å¿µ

CatSeq çš„è®¾è®¡åŸºäºä»¥ä¸‹æ ¸å¿ƒåŸåˆ™ï¼š

### ğŸ§® èŒƒç•´è®ºåŸºç¡€
- **Objects**: å®Œæ•´çš„ç³»ç»ŸçŠ¶æ€ï¼ˆæ‰€æœ‰é€šé“çš„çŠ¶æ€æ˜ å°„ï¼‰
- **Morphisms**: ç‰©ç†è¿‡ç¨‹ï¼ˆéšæ—¶é—´æ¼”åŒ–çš„çŠ¶æ€è½¬æ¢ï¼‰  
- **Composition**: ä¸¥æ ¼çš„å‡½æ•°å¤åˆï¼Œä¿è¯çŠ¶æ€è¿ç»­æ€§

### ğŸ”’ ç±»å‹å®‰å…¨ä¼˜å…ˆ
- ç¼–è¯‘æ—¶çŠ¶æ€éªŒè¯ï¼Œé˜²æ­¢éæ³•çŠ¶æ€è½¬æ¢
- å¼ºç±»å‹é€šé“ç®¡ç†ï¼Œé¿å…ç¡¬ä»¶åœ°å€é”™è¯¯
- è‡ªåŠ¨æ¨å¯¼çŠ¶æ€è½¬æ¢ï¼Œå‡å°‘æ‰‹åŠ¨é”™è¯¯

### ğŸ¯ ç”¨æˆ·å‹å¥½æ€§
- ç›´è§‚çš„æ“ä½œç¬¦ï¼š`@` è¡¨ç¤ºæ—¶åºè¿æ¥ï¼Œ`|` è¡¨ç¤ºå¹¶è¡Œæ‰§è¡Œ
- å£°æ˜å¼ç¼–ç¨‹é£æ ¼ï¼Œä¸“æ³¨äº"åšä»€ä¹ˆ"è€Œé"æ€ä¹ˆåš"  
- ä¸°å¯Œçš„é”™è¯¯æç¤ºå’Œè°ƒè¯•ä¿¡æ¯

## é¡¹ç›®è·¯çº¿å›¾

æˆ‘ä»¬å¯¹ CatSeq çš„æœªæ¥å‘å±•æœ‰æ¸…æ™°çš„è§„åˆ’ï¼š

**v0.2.0** (2025 Q2)
- [ ] **å¯è§†åŒ–å·¥å…·**: æ—¶åºå›¾ç”Ÿæˆå’Œäº¤äº’å¼è°ƒè¯•ç•Œé¢
- [ ] **æ›´å¤šç¡¬ä»¶æ”¯æŒ**: æ”¯æŒæ›´å¤šé‡å­å®éªŒè®¾å¤‡ç±»å‹
- [ ] **æ€§èƒ½ä¼˜åŒ–**: å¤§è§„æ¨¡åºåˆ—çš„ç¼–è¯‘ä¼˜åŒ–

**v0.3.0** (2025 Q3)  
- [ ] **äº‘ç«¯ç¼–è¯‘**: æ”¯æŒè¿œç¨‹ç¡¬ä»¶çš„å®æ—¶æ§åˆ¶
- [ ] **æœºå™¨å­¦ä¹ é›†æˆ**: è‡ªåŠ¨åŒ–å‚æ•°ä¼˜åŒ–å’Œåºåˆ—å­¦ä¹ 
- [ ] **æ ‡å‡†åº“æ‰©å±•**: å¸¸ç”¨é‡å­å®éªŒæ“ä½œçš„é¢„å®šä¹‰åº“

æ¬¢è¿æŸ¥çœ‹æˆ‘ä»¬çš„ [Issues](https://github.com/hirobumii/catseq/issues) é¡µé¢ï¼Œäº†è§£æ›´å¤šè¯¦æƒ…å¹¶å‚ä¸è®¨è®ºã€‚

## å¦‚ä½•è´¡çŒ®

æˆ‘ä»¬éå¸¸æ¬¢è¿ç¤¾åŒºçš„è´¡çŒ®ï¼å¦‚æœä½ å¸Œæœ›å‚ä¸è¿›æ¥ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. è¿è¡Œæµ‹è¯•ç¡®ä¿ä»£ç è´¨é‡ (`.venv/bin/pytest tests/ -v`)
4. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
5. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
6. åˆ›å»ºä¸€ä¸ª Pull Request

**å¼€å‘ç¯å¢ƒè®¾ç½®**ï¼š
```bash
# ä½¿ç”¨è„šæœ¬å¿«é€Ÿè®¾ç½®
./setup.sh

# æˆ–æ‰‹åŠ¨è®¾ç½®
source .venv/bin/activate
uv pip install -e .[dev]

# è¿è¡Œæµ‹è¯•å¥—ä»¶
.venv/bin/pytest tests/ -v

# ä»£ç æ ¼å¼æ£€æŸ¥
ruff check catseq/
mypy catseq/
```

åœ¨è´¡çŒ®ä¹‹å‰ï¼Œè¯·åŠ¡å¿…è¿è¡Œæµ‹è¯•å¥—ä»¶ç¡®ä¿æ‰€æœ‰ 49 ä¸ªæµ‹è¯•éƒ½é€šè¿‡ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº **MIT** è®¸å¯è¯è¿›è¡Œåˆ†å‘ã€‚è¯¦æƒ…è¯·è§ `LICENSE` æ–‡ä»¶ã€‚

## è‡´è°¢

- **èŒƒç•´è®ºç†è®ºåŸºç¡€**: æ„Ÿè°¢æ•°å­¦å®¶ä»¬åœ¨ Monoidal Category ç†è®ºä¸Šçš„è´¡çŒ®
- **RTMQ ç¡¬ä»¶å¹³å°**: ä¸ºé‡å­å®éªŒæ§åˆ¶æä¾›äº†å¼ºå¤§çš„ç¡¬ä»¶åŸºç¡€
- **Python ç”Ÿæ€ç³»ç»Ÿ**: NumPy, pytest, uv ç­‰ä¼˜ç§€å·¥å…·è®©å¼€å‘å˜å¾—é«˜æ•ˆ
- **uv åŒ…ç®¡ç†å™¨**: ä¸ºé¡¹ç›®æä¾›äº†å¿«é€Ÿå¯é çš„ä¾èµ–ç®¡ç†

---

<p align="center">
  <strong>CatSeq - è®©é‡å­å®éªŒæ§åˆ¶å›å½’æ•°å­¦ä¹‹ç¾</strong>
</p>